#!/usr/bin/env python2
# -*- coding: utf-8 -*-
"""
Created on Fri Jun  1 16:57:49 2018

@author: gowtham
"""

import os
import pandas as pd
#import matplotlib.pyplot as plt

cwd = os.getcwd()
dirs = os.listdir(cwd + "/appsF")

j = "appsF/"  + dirs[0] + "/features.tsv"


data_set = open("data.tsv", 'w')
data_set.write("App\t, Permissions\t Categories\t Activities\t Activity Aliases\t Uses Permissions\t Uses Features\t datas\t Meta Datas\t Providers\t Receivers\t Services\t Actions \n")


for app in dirs:
    app_ = "appsF/"  + app + "/features.tsv"
    print(app)
    data = pd.read_csv(j, sep = '\t')
    data_set.write(str(app) + "\t ")
    for i in range(data.shape[1]):
        print i
        if i != data.shape[1] - 1:
            data_set.write(str(list(data.iloc[:, i].values)) + "\t")
        else:
            data_set.write(str(list(data.iloc[:, i].values)) + "\n ")

data_set.close()
        